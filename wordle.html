<!DOCTYPE html>
<html lang="sq">
<head>
<meta charset="UTF-8">
<title>FjalÃ«kryq â€“ Gjuha Shqipe</title>

<style>
body {
    font-family: Arial;
    text-align: center;
    background-color: #f4f4f4;
}

.grid {
    display: grid;
    grid-template-columns: repeat(5, 50px);
    gap: 5px;
    justify-content: center;
    margin: 20px;
}

input {
    width: 50px;
    height: 50px;
    text-align: center;
    font-size: 24px;
    text-transform: uppercase;
}

.correct {
    background-color: #a5d6a7; /* Green for correct letters */
}

.wrong {
    background-color: #ef9a9a; /* Red for wrong letters */
}

.present {
    background-color: #fff176; /* Yellow for letters present in the word but in wrong position */
}

button {
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
}

#message {
    font-size: 18px;
    margin-top: 15px;
    font-weight: bold;
}

#success-link {
    font-size: 18px;
    margin-top: 15px;
    color: #4caf50;
    text-decoration: none;
}

#success-link:hover {
    text-decoration: underline;
}
</style>
</head>

<body>

<h1>ðŸ§© FjalÃ«kryq</h1>
<p>PlotÃ«so fjalÃ«n qÃ« lidhet me gjuhÃ«n shqipe</p>
<p><b>Clue:</b> Objekt qÃ« pÃ«rdoret pÃ«r tÃ« lexuar</p>

<div class="grid">
    <input maxlength="1">
    <input maxlength="1">
    <input maxlength="1">
    <input maxlength="1">
    <input maxlength="1">
</div>

<button onclick="kontrollo()">Kontrollo</button>

<p>Shanse tÃ« mbetura: <span id="shanse">3</span></p>
<p id="message"></p>
<p id="success-link"></p>

<script>
let fjalaSakte = ["L","I","B","E","R"];
let shanse = 3;

function kontrollo() {
    let inputs = document.querySelectorAll("input");
    let gabim = false;
    let fjalaPerdore = fjalaSakte.slice(); // Kopjohet fjala e saktÃ« pÃ«r tÃ« verifikuar pÃ«r shkronjat e pranishme

    // Fillimisht, kontrollo pÃ«r shkronjat qÃ« janÃ« nÃ« pozicionin e duhur
    inputs.forEach((input, index) => {
        let shkronja = input.value.toUpperCase();
        if (shkronja === fjalaSakte[index]) {
            input.className = "correct"; // Shkronjat qÃ« janÃ« nÃ« vendin e duhur bÃ«hen tÃ« gjelbra
            fjalaPerdore[index] = null;  // Heq shkronjÃ«n e gjetur nga fjala pÃ«r verifikimin mÃ« vonÃ«
        }
    });

    // Kontrollo pÃ«r shkronjat qÃ« janÃ« nÃ« fjalÃ«, por nÃ« vendin e gabuar
    inputs.forEach((input, index) => {
        let shkronja = input.value.toUpperCase();

        // VerifikojmÃ« nÃ«se shkronja Ã«shtÃ« nÃ« fjalÃ«, por jo nÃ« pozicionin e duhur
        if (shkronja !== fjalaSakte[index] && fjalaPerdore.includes(shkronja)) {
            input.className = "present"; // Shkronjat e pranishme por nÃ« vendin e gabuar bÃ«hen tÃ« verdha
            fjalaPerdore[fjalaPerdore.indexOf(shkronja)] = null; // Heq shkronjÃ«n nga lista qÃ« Ã«shtÃ« pÃ«rdorur
        } else if (shkronja !== fjalaSakte[index]) {
            input.className = "wrong"; // Shkronjat qÃ« nuk janÃ« nÃ« fjalÃ« bÃ«hen tÃ« kuqe
            gabim = true;
        }
    });

    // Kontrollo nÃ«se tÃ« gjitha shkronjat janÃ« tÃ« sakta dhe nÃ« pozitat e duhura
    if (!gabim && inputs.every((input, index) => input.value.toUpperCase() === fjalaSakte[index])) {
        document.getElementById("message").innerText = ""; // Heq mesazhin pÃ«r gabime
        document.getElementById("success-link").innerHTML = '<a href="#" onclick="resetGame()">ðŸŽ‰ E gjete fjalÃ«n! Kliko kÃ«tu pÃ«r tÃ« luajtur pÃ«rsÃ«ri.</a>';
    } else {
        // Heq njÃ« shans vetÃ«m nÃ«se nuk janÃ« tÃ« gjitha shkronjat tÃ« sakta
        if (gabim) {
            shanse--;
            document.getElementById("shanse").innerText = shanse;
        }

        // Kontrollo nÃ«se shanset kanÃ« mbaruar
        if (shanse > 0) {
            document.getElementById("message").innerText = "âŒ Ka gabime. PÃ«rpiqu pÃ«rsÃ«ri!";
            document.getElementById("success-link").innerHTML = ""; // Heq linkun pÃ«r sukses
        } else {
            document.getElementById("message").innerText = "â›” Gabim! Loja mbaroi.";
            document.querySelector("button").disabled = true;
            document.getElementById("success-link").innerHTML = ""; // Heq linkun pÃ«r sukses
        }
    }
}

// Funksioni pÃ«r tÃ« rinisur lojÃ«n
function resetGame() {
    // Rinisem shanset dhe ngjyra e inputeve
    shanse = 3;
    document.getElementById("shanse").innerText = shanse;
    document.querySelectorAll("input").forEach(input => {
        input.value = "";
        input.className = ""; // Heq ngjyrat
    });
    document.querySelector("button").disabled = false;
    document.getElementById("message").innerText = "";
    document.getElementById("success-link").innerHTML = "";
}
</script>

</body>
</html>
